#
# Makefile make_sarta for SARTA
#
#   Please use absolute paths for final entries
#

# ------------------------------------------------------------------------
# Object files
# ------------------------------------------------------------------------
OBJS = rdcoef_chg4_7set.o  rdprof_full.o  vaconv.o  calpar.o  qikexp.o  setems.o  getbot.o \
       calt1.o   calt2.o   calt3.o   calt4.o   calt5.o   calt6.o   calt7.o \
       faketz.o  sunpar.o  calrad.o  rdsun.o   saconv.o  calowp.o  calokw.o \
       util.o    opnrtp.o  rdrtp.o   wrtrtp.o  mean_t.o  rdinfo.o  cbplev.o \
       tunmlt.o  calnte.o  sarta_cris_hrg4.o

# ------------------------------------------------------------------------
# HDF LIBS
# ------------------------------------------------------------------------
HDFLIB = -L/asl/code/external/hdf/hdf4/lib -ldf \
	 -L/asl/code/external/jpeg -ljpeg       \
	 -L/asl/code/external/zlib -lz         

# ------------------------------------------------------------------------
# RTP LIB and INCLUDE
# ------------------------------------------------------------------------
RTPLIB = -L/asl/code/rtp/lib -lrtp
RTPINC = -I/asl/code/rtp/include

# ------------------------------------------------------------------------
# Compilers
# ------------------------------------------------------------------------

# INTEL ifort F77
# ------------------------------------------------------------------------
# -u  : turn off implicit typing of variables
# -g  : generate debugging information (turns off optimization)
# -C  : do run time subscript range checking
# -w0 : inform about unused variables
# -O3 : heavy optimization
# -64 : 64-bit objects (libraries must match)
# -us : puts trailing underscore
F77 = ifort
FLIB = 
OPT = -O -convert big_endian -extend-source 132

# Portland Group F77:
# ------------------------------------------------------------------------
#    -byteswapio  read big-endian binary files (needed for coefficient files)
#    -C           array bounds checking
#    -g           include symbol table info
#    -O           moderate optimization
#OPT = -O -byteswapio
#F77 = pgf77

# ------------------------------------------------------------------------
# Build
# ------------------------------------------------------------------------
sarta:	$(OBJS)
	$(F77) $(OBJS) $(RTPLIB) $(HDFLIB) $(FLIB)

# Compile source to object files
.f.o:
	$(F77) -c $(OPT) $(RTPINC) $*.f
